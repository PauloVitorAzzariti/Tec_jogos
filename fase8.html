<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Fase 8 â€“ Jogo da MemÃ³ria</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body{
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to right, #2c3e50, #34495e);
      margin: 0; padding: 20px; color: #fff; text-align: center;
    }
    h1{ margin-bottom: 20px; }

    .tabuleiro{
      display: grid;
      grid-template-columns: repeat(4, 120px);
      justify-content: center;
      gap: 15px;
      margin-top: 30px;
    }

    .carta{
      background: #00e5ff;
      border-radius: 10px;
      height: 100px; display: flex; justify-content: center; align-items: center;
      font-weight: bold; cursor: pointer; color: #000;
      user-select: none; font-size: 14px;
      transition: transform .25s ease, box-shadow .25s ease, background .25s ease, color .25s ease;
      box-shadow: 0 6px 16px rgba(0,0,0,.25);
    }

    /* Destaque ao virar (antes de confirmar acerto/erro) */
    .carta.virada{
      box-shadow: 0 0 0 3px #00e5ff, 0 10px 24px rgba(0,229,255,.35);
      transform: translateY(-4px);
    }

    /* Par confirmado */
    .carta.match{
      background: #00c853;
      color: #fff;
      cursor: default;
      box-shadow: 0 0 0 3px #00c853, 0 10px 26px rgba(0,200,83,.45);
      transform: translateY(-2px) scale(1.02);
      pointer-events: none;
    }

    /* Shake de erro */
    .carta.erro{
      animation: shake .35s ease;
      box-shadow: 0 0 0 3px #ff5252, 0 10px 20px rgba(255,82,82,.35);
      background: #ffd1d1;
    }
    @keyframes shake{
      0%,100%{ transform: translateX(0) }
      20%{ transform: translateX(-6px) }
      40%{ transform: translateX(6px) }
      60%{ transform: translateX(-5px) }
      80%{ transform: translateX(5px) }
    }

    #mensagem{
      margin-top: 20px; font-size: 20px; min-height: 30px;
    }

    #proximo{
      display: none; margin-top: 20px; padding: 10px 25px;
      background: #00e676; color: #000; border: none; font-size: 16px; border-radius: 8px; cursor: pointer;
    }
    #proximo:hover{ background: #00c853; }

    /* Responsivo */
    @media (max-width: 520px){
      .tabuleiro{ grid-template-columns: repeat(3, 100px); }
      .carta{ height: 86px; font-size: 13px; }
    }
  </style>
</head>
<body>

<h1>ðŸ§  Fase 8 â€“ Combine os Itens Ã  Categoria Correta</h1>

<div class="tabuleiro" id="tabuleiro"></div>

<div id="mensagem" aria-live="polite"></div>
<button id="proximo" onclick="next()">AvanÃ§ar para Fase 9</button>

<script>
  const pares = [
    { nome: "Teclado", tipo: "Hardware" },
    { nome: "Mouse", tipo: "Hardware" },
    { nome: "Monitor", tipo: "Hardware" },
    { nome: "Word", tipo: "Software" },
    { nome: "Excel", tipo: "Software" },
    { nome: "Chrome", tipo: "Software" }
  ];

  // Monta cartas com pairId e lado (item vs categoria)
  let cartas = [];
  pares.forEach((p, i) => {
    cartas.push({ texto: p.nome,   pairId: i, tipo: p.tipo, lado: "item" });
    cartas.push({ texto: p.tipo,   pairId: i, tipo: p.tipo, lado: "categoria" });
  });
  cartas.sort(() => 0.5 - Math.random());

  const tabuleiro = document.getElementById("tabuleiro");
  const mensagem  = document.getElementById("mensagem");
  const btnNext   = document.getElementById("proximo");

  let carta1 = null;
  let carta2 = null;
  let bloqueado = false;
  let acertos = 0;

  // Cria e renderiza as cartas
  cartas.forEach(c => {
    const div = document.createElement("div");
    div.className = "carta";
    div.textContent = "?";

    // datasets
    div.dataset.texto  = c.texto;
    div.dataset.pairId = String(c.pairId);
    div.dataset.lado   = c.lado;  // "item" ou "categoria"
    div.dataset.tipo   = c.tipo;  // Hardware/Software

    // clique
    div.addEventListener("click", () => {
      if (bloqueado) return;
      if (div.classList.contains("match")) return;  // jÃ¡ acertada
      if (div === carta1) return;                   // evita clicar a mesma

      // mostrar conteÃºdo e destacar
      div.textContent = div.dataset.texto;
      div.classList.add("virada");

      if (!carta1) {
        carta1 = div;
      } else {
        carta2 = div;
        bloqueado = true;

        setTimeout(() => {
          const match =
            carta1.dataset.pairId === carta2.dataset.pairId &&
            carta1.dataset.lado   !== carta2.dataset.lado;

          if (match) {
            mensagem.textContent = "âœ… Acertou!";
            carta1.classList.remove("virada");
            carta2.classList.remove("virada");
            carta1.classList.add("match");
            carta2.classList.add("match");

            // trava o par (sem pointer)
            carta1.style.pointerEvents = "none";
            carta2.style.pointerEvents = "none";

            acertos++;
            if (acertos === pares.length) {
              mensagem.textContent = "ðŸŽ‰ ParabÃ©ns! VocÃª concluiu a fase!";
              btnNext.style.display = "inline-block";
            }
          } else {
            mensagem.textContent = "âŒ NÃ£o combinam. Tente novamente.";
            if (navigator.vibrate) navigator.vibrate(120);
            // efeito erro
            carta1.classList.add("erro");
            carta2.classList.add("erro");

            setTimeout(() => {
              carta1.classList.remove("virada", "erro");
              carta2.classList.remove("virada", "erro");
              carta1.textContent = "?";
              carta2.textContent = "?";
            }, 350);
          }

          carta1 = null;
          carta2 = null;
          bloqueado = false;
        }, 450);
      }
    });

    tabuleiro.appendChild(div);
  });

  function next(){ window.location.href = "fase9.html"; }
</script>

</body>
</html>
