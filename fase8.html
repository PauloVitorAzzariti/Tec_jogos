<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Fase 8 ‚Äì Jogo da Mem√≥ria</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to right, #2c3e50, #34495e);
      margin: 0;
      padding: 20px;
      color: white;
      text-align: center;
    }
    h1 { margin-bottom: 20px; }

    .tabuleiro {
      display: grid;
      grid-template-columns: repeat(4, 120px);
      justify-content: center;
      gap: 15px;
      margin-top: 30px;
    }
    .carta {
      background: #00e5ff;
      border-radius: 10px;
      height: 100px;
      display: flex;
      justify-content: center;
      align-items: center;
      font-weight: bold;
      cursor: pointer;
      color: black;
      transition: transform 0.3s ease;
      user-select: none;
      font-size: 14px;
    }
    .carta.revelada {
      background: #00c853;
      color: white;
      cursor: default;
    }

    #mensagem {
      margin-top: 20px;
      font-size: 20px;
      min-height: 30px;
    }
    #proximo {
      display: none;
      margin-top: 20px;
      padding: 10px 25px;
      background: #00e676;
      color: #000;
      border: none;
      font-size: 16px;
      border-radius: 8px;
      cursor: pointer;
    }
    #proximo:hover { background: #00c853; }
  </style>
</head>
<body>

<h1>üß† Fase 8 ‚Äì Combine os Itens √† Categoria Correta</h1>

<div class="tabuleiro" id="tabuleiro"></div>

<div id="mensagem"></div>
<button id="proximo" onclick="next()">Avan√ßar para Fase 9</button>

<script>
  const pares = [
    { nome: "Teclado", tipo: "Hardware" },
    { nome: "Mouse",   tipo: "Hardware" },
    { nome: "Monitor", tipo: "Hardware" },
    { nome: "Word",    tipo: "Software" },
    { nome: "Excel",   tipo: "Software" },
    { nome: "Chrome",  tipo: "Software" }
  ];

  // Monta cartas: uma carta "item" + UMA carta "categoria" (texto = tipo)
  // para cada par. Agora a valida√ß√£o N√ÉO depende do par espec√≠fico.
  let cartas = [];
  pares.forEach((p) => {
    cartas.push({ texto: p.nome, tipo: p.tipo, lado: "item" });
    cartas.push({ texto: p.tipo, tipo: p.tipo, lado: "categoria" });
  });

  // Embaralhar
  cartas = cartas.sort(() => 0.5 - Math.random());

  const tabuleiro = document.getElementById("tabuleiro");
  const mensagem  = document.getElementById("mensagem");
  let carta1 = null, carta2 = null, bloqueado = false, acertos = 0;
  const totalPares = pares.length;

  // Render das cartas
  cartas.forEach(c => {
    const div = document.createElement("div");
    div.className = "carta";
    div.dataset.texto = c.texto;
    div.dataset.tipo  = c.tipo;      // "Hardware" / "Software"
    div.dataset.lado  = c.lado;      // "item" / "categoria"
    div.textContent = "?";

    div.addEventListener("click", () => {
      if (bloqueado || div.classList.contains("revelada")) return;

      div.textContent = c.texto;
      div.classList.add("revelada");

      if (!carta1) {
        carta1 = div;
      } else {
        carta2 = div;
        bloqueado = true;

        setTimeout(() => {
          // NOVA REGRA: lados diferentes e mesmo tipo
          const match =
            carta1.dataset.lado !== carta2.dataset.lado &&
            carta1.dataset.tipo === carta2.dataset.tipo;

          if (match) {
            mensagem.textContent = "‚úÖ Acertou!";
            acertos++;
            if (acertos === totalPares) {
              mensagem.textContent = "üéâ Parab√©ns! Voc√™ concluiu a fase!";
              document.getElementById("proximo").style.display = "inline-block";
            }
          } else {
            mensagem.textContent = "‚ùå N√£o combinam. Tente novamente.";
            carta1.textContent = "?";
            carta1.classList.remove("revelada");
            carta2.textContent = "?";
            carta2.classList.remove("revelada");
          }

          carta1 = null;
          carta2 = null;
          bloqueado = false;
        }, 700);
      }
    });

    tabuleiro.appendChild(div);
  });

  function next(){ window.location.href = "fase9.html"; }
</script>

</body>
</html>
